<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 3</title>
</head>

<body>

    <div class="display">
        <h2>Answer 1</h2>
        <div class="answer1"></div>
        <div class="answer1TimeDisplay"></div>

        <h2>Answer 2</h2>
        <div class="answer2"></div>
        <div class="answer2TimeDisplay"></div>

    </div>

    <script>
        // Setup
        let answer1display = document.getElementsByClassName('answer1')[0];
        let answer2display = document.getElementsByClassName('answer2')[0];
        let answer1TimeDisplay = document.getElementsByClassName('answer1TimeDisplay')[0];
        let answer2TimeDisplay = document.getElementsByClassName('answer2TimeDisplay')[0];

        // Start timer answer 1
        let answer1StartTime = performance.now();

        let inputString = '...#..............#.#....#..#..,...#..#..#..............#..#...,....#.#.......#............#...,..##.....##.........#........##,...#...........#...##.#...#.##.,..#.#...#....#.....#........#..,....##.###.....#..#.......#....,.#..##...#.....#......#..#.....,............##.#...#.#.....#.#.,..........#....#....#.#...#...#,..##....#.#.#......#.........#.,#.#.........#..............##..,....##.##......................,....##..#...........#..........,..#..#.#........##....#......#.,..............#..#....#.....#..,.............#...#.....#...#...,.#...........#..........#...#..,.#......#.......#......#.......,#..#.............#..#....##.###,........#.#...........##.#...#.,......#..#.....##......#.......,.....#.....#....#..............,#...##.#......#......#...#.....,...........................#...,...#....................#.....#,..#.....#...#.....##.....#.....,....................#......#..#,.......#.....##......##....#...,#........##...#.....##..#...#..,........#..#.#......#..###..#.#,##.....#.............#.#....#..,..#.................#....######,.#.#..#.....#.#..........#.#...,.........#....#...#............,........#..#.....#.............,............#.#.............##.,...#....#..#......#............,.##....#.....#...#.#...........,..#..............#...........##,.....#.#.##...#................,..........#..#.#..........##..#,..#....#...#...#.....######....,....#.#..#........#....#.###...,.......................#.......,..#.....#.##................#..,.....#......#..#.....#........#,.#...###.......#.#.........#..#,............#..................,..#.........##.........##......,#...........#.#.......###.#....,.#...#.....#.........###.....#.,.#............#........#..#....,...##.#......##................,........#...#...#...#..........,.......#.##......##.#..........,....##.......#..#....#....#....,......#.........###........#...,#....#....####....##......#....,......................#....#.#.,...#.#.#....#.#...#...#......#.,......#.....##.#...........###.,#........#.........##......#.#.,....##.....#.....#..#..........,......#...#...#.........#...##.,..#........#..................#,.........#..##.#..#..#...#.#..#,.....#.....#...#.....###.....##,.............#....#...#........,..........#.#.#...#..#...#....#,#...............##.......#.....,#...#.............#..#...#....#,..#...#...##...##...#..#.......,..#..#........#.#...........#..,.....#.....#..................#,....#....##....###..###...##...,..#......###.........##....#.##,.......#.##...#.......#..#.....,...#.#.#.#.....##..#..#........,................##....#.#......,..#...#...#...#.....##.#...#..#,..#..#.....#..##....#....#.....,.###...#......#........#.....##,##......#..#........#..........,....#...#..#....##..#......####,.#.....##....#..........#......,.#...#....#.........#...#....#.,.....#..#.#..#......#..##....#.,...#.##...#...#........#......#,.#..#...#.#..#.........#...#...,#....#......##.....#.......#...,..##............##..#.#.#...#..,##.......#.......##............,#......#.##........#...#...#...,.#.#.......##.........#..#.#...,.............##.#........#.....,.#..#...###...#..#.............,.....#...#..#....#.......#.....,#.#.........#.#.#...#...#.#....,.....#.......#.##.##...#....#..,.#.##..#.....#...#.#.#.#.#..#..,..........#...................#,.....#.#.#...##.........#..#..#,.#..#....##......#...#.........,.##......#......#...#........#.,.....##.#......#............#.#,.#.....##..#...........##......,.....#......#.......##....#....,..#..##..........#.#..........#,#.#.......##..#..##.#....#.....,.......#..#.#.......##......#.#,....#...##...#..............#..,.....#.........#......#...##...,#.........#........##..#.....#.,.#.#..#.....##.......#......#..,........#..#....#.....###..#...,#.#..#.#..........#............,..#......##..#....#.........#..,#..............................,.......#............#..#..#.#..,.#.....#.#....#..#.##.#........,.......#.###.#........##.#..#..,..............#....#.....##.#..,#..............#....#.###......,.#..#..#...###............#...#,.#.##...#....#..#...#...#......,......##..#..#......#..#....#..,.........#.......##............,...........##...#..#....####...,.#..................#..........,#...#..#..................#....,..............#.....##.....#...,..#.#..#...##..#.....#.....#..#,....#....#.#.........#.....#...,.#.......#...#....#...#.#..#..#,#.........##.....##.......#...#,#..#............#....#........#,..........##...#......#....#...,.......#..##...............#...,#............#.#.#.....#.......,.#........##...#...............,..##....#.....#..#.##.#......#.,.#...#.............#...#.....#.,...##....#.......#......#.#..#.,#......................#..#.##.,...#..........#..#.........#...,..#......#.......#.#....#......,....#............#...#......#..,.....#..#..##...#...#.........#,.....#......#....#....#........,.............#..#..........#...,....#..............#.....#.#...,....#.................#.#...#.#,.........#.#...........###.#.##,#...........#..##.#....#.##.#..,#.#.....#......................,##.#.........#....##.#.#..#.#..,#..........#.#.#.#.#..#..##..#.,..#...#..###.........#......#..,.....#......#..#.#............#,...........#...#.#.#.###....#..,#....#..#.......##.#.......##..,..............#.....##.#.......,.#.....#.#..#.........#.#.#..#.,..#..#..#..#................#..,...........#..#.#...#.........#,.#..#..#...#........#...#.#..#.,...#.#..#......#..#............,........#......##.....#....#...,#...#......##.#.#..............,.#........................#....,#.#.....#.##.....#..#.#........,#..........##.#.......#....#..#,#...#..#..#.....#....#....#....,#...........#..#.#....##.##....,##......#..#........#.......##.,#........#..#...#..........#...,...#...#......##....#.#........,...##..#..#.##....#...#........,#.#..#....#...#........#.......,..........#.......#..........#.,......##...#....###...#....#...,........#..#.....#......#......,....#.........##...#..##......#,....#...........#.#..#.#.#.#..#,..#......#..#......#........#.#,#..#....#.....#.............#..,............................#..,#...#.#.....#...#....#....#....,........#...#...#...#...#......,.###........#....#.##.....##.#.,.........#.....#..........#....,.#.........#....##.#.....#.....,#..#....................##.#...,..##.#.............#....#.#....,..#.#........#............##.#.,#........#...##.....#...#.....#,.........#.#..........#....#..#,...###.#..#.#......#.#.....#...,......#.....#..#...#........#..,.......#...#.....#....#....#..#,.#.#........#......##.......#..,#.................###..........,#........#.#..#....#..#........,..##....#.#...##...#...##....#.,...#.#......##...#.....#..#....,#..#........#...###....#.......,##.#....#..#.#..........#......,....#...###...#.....#........#.,..#.#........#....##.#.........,......##.##.................##.,.#....##...#.#..#.#............,.#...###........#......#.......,##..#.#......#..#..#...#.......,.......##..#....#........#....#,......#..........#.............,....##..##..#......#.#.........,.....#....................##...,...###.....#.....#...#.#.##.#..,....#.#..#.......#..#......##..,.......#.#..#.##.#...#......#..,...#.#....#.#...#..##...#...#..,#.##...#....#..#.............#.,...#...#...#.......#..........#,.#..#.............#..##.#......,....#.......#..............#.#.,..................#..#.....##.#,.#...#..#......#..........#...#,..#.#.....#..#....#....#####.#.,.......###.......#....#....#...,......#.#........#...#.........,......#..#.#.#....#.#.#....##..,.#...#.#...##.#......#.........,#....#..##....#.#.......#....#.,..##.#.....#.....#.........#...,......#......#....#....#.....#.,...##.....#....#......#......#.,......#......##............#.#.,.##.#.......#....#...#....#....,....#..#..#...##.......#..#....,....#....#...#.#........#..#...,....#.....#..........#..#......,....#....#...#.....#..##.....#.,##...#..##......#....##..#..#..,.....##.##..............##.....,#.#....#.##..#....#...##.......,..#.....##.....#.....######...#,...#.....#.#.#......#......##.#,...........##.............#....,...##......#..#......#...#.....,....#.##......#..#....#.#..#...,.#..#....#...#..#.....##.......,.....#..#.................#..#.,................#..#...#......#,...##....#.....#..#....##......,....##...............##...#....,......#..........#..##.........,.......###.......#.........#..#,......................#....#.#.,#.#.....#...##............#....,........#......##......#.....#.,...#....#....#.#..##.#..#.#.#..,..#.#....#.##...#..#.....#.#...,............#....#..#.......#..,#...#...#.#......#...##.....#.#,......#....#....#.......#......,....#.......#..........#....#..,........#####........#....#....,......#....##..............#.#.,....#....#.......#.......#.....,.##.#....##....#...............,#.....##........#..#.#...#.#...,...#......##....#..............,.#.....#.....#.......##....##..,#....#..........#.#..#.........,......##..........##.......#...,.##......##.....#.#....#......#,....#......................#...,.#...........###........#...#..,#.#..#..#..#...##.#....#.#..#..,...##...........#.#..........#.,......#.#..#....#....#.........,....#....#.#......#.........##.,.#..#...#...##....#...#......#.,#.#......#...#.#.#...........#.,##.....#..........##....##..##.,...#.#.....#..##........#......,..#........##........#..#......,.......#...............##..#...,.......#.#....#..###...........,.............#........#...#....,#.................#......#..#..,...#....#..#..............#...#,.............#....##....#..##..,#........#..........##...##...#,............#....#.....#.#....#,.....#..............##..#...#..,..#....#......###....#.#...##..,....##......#.....#....#.......,.....#...............#.....#...,.#.....#.....#..............#..,#................#..#..........,.##....#....#.....#............,#.####...#..#..#....#..........,..##........##.....##......#..#,......#.....#...##.........##..,....##..#.....#.#.........#...#,.....##..#....#....#.#...#..#..,...#............#...........#..,.......#.#..#.#.#..#........#.#,....#.#........#.#.#..#...#...#,..#....#....#..#......#........,.#...........................#.,.#..#....####........##......#.,.#.....#..#.#.................#,.#..#...........#...#....#...#.,......##..#........#..#....#...,..#.............#....#........#,#.#..........#.##.......#.#..#.,..#....#...#...............#...,..............#..........#..#..,..#.....#.#.....#...#...#..#...,.........#...###.#...#........#';
        
        let inputArray = inputString.split(',');

        function countTrees(deltaX, deltaY)
        {
            let row = 0;
            let col = 0;
            let width = inputArray[0].length;
            let treeCount = 0;

            while (row < inputArray.length - 1)
            {
                row += deltaY;
                col = (col + deltaX < width) ? (col + deltaX) : (col + deltaX - width);

                console.log(row, col);

                if (inputArray[row][col] == '#')
                {
                    treeCount++;
                }
            }

            return treeCount;
        }

        answer1display.innerHTML = `Starting at the top-left corner of your map and following a slope of right 3 and down 1, you will encounter ${countTrees(3,1)} trees.`;

        // End timer answer 1, display
        let answer1EndTime = performance.now();
        answer1TimeDisplay.innerHTML = `Answer 1 took ${answer1EndTime - answer1StartTime}ms.`


        // Start timer answer 2
        let answer2StartTime = performance.now();

        let treeCount1_1 = countTrees(1,1);
        let treeCount3_1 = countTrees(3,1);
        let treeCount5_1 = countTrees(5,1);
        let treeCount7_1 = countTrees(7,1);
        let treeCount1_2 = countTrees(1,2);

        answer2display.innerHTML = `<div>Starting at the top-left corner of your map and following a slope of right 1 and down 1, you will encounter ${treeCount1_1} trees.</div>`;
        answer2display.innerHTML += `<div>Starting at the top-left corner of your map and following a slope of right 3 and down 1, you will encounter ${treeCount3_1} trees.</div>`;
        answer2display.innerHTML += `<div>Starting at the top-left corner of your map and following a slope of right 5 and down 1, you will encounter ${treeCount5_1} trees.</div>`;
        answer2display.innerHTML += `<div>Starting at the top-left corner of your map and following a slope of right 7 and down 1, you will encounter ${treeCount7_1} trees.</div>`;
        answer2display.innerHTML += `<div>Starting at the top-left corner of your map and following a slope of right 1 and down 2, you will encounter ${treeCount1_2} trees.</div>`;
        answer2display.innerHTML += `<div>${treeCount1_1} * ${treeCount3_1} * ${treeCount5_1} * ${treeCount7_1} * ${treeCount1_2} = ${treeCount1_1 * treeCount3_1 * treeCount5_1 * treeCount7_1 * treeCount1_2}</div>`;

        // End timer answer 2, display
        let answer2EndTime = performance.now();
        answer2TimeDisplay.innerHTML = `Answer 2 took ${answer2EndTime - answer2StartTime}ms.`



    </script>
</body>

</html>